---
title: "Defining Genomes"
description: "Learn to define types with gen, structured fields, enums, and module declarations"
track: "dol-syntax"
tutorial: 1
duration: "20 min"
objectives:
  - "Understand the module declaration syntax"
  - "Define types using gen"
  - "Create enum variants for state modeling"
  - "Structure complex nested types"
tags:
  - "gen"
  - "types"
  - "enums"
  - "modules"
  - "fundamentals"
---

# Defining Genomes

In DOL, **genomes** (or "gens") are the fundamental building blocks of your ontology. A gen is a type definition that describes the structure of a concept in your domain.

## Learning Objectives

By the end of this lesson, you will be able to:

- Declare modules with versioning
- Define public types with structured fields
- Create enums for state representation
- Compose complex types from simpler ones

## Module Declaration

Every DOL file begins with a module declaration that establishes namespace and version:

```dol
mod container.runtime @ 0.8.0
```

This declares:
- **Namespace**: `container.runtime` - a hierarchical path
- **Version**: `0.8.0` - semantic versioning

<Tip type="info">
Module names use dot notation for hierarchy. Version numbers follow semantic versioning (MAJOR.MINOR.PATCH).
</Tip>

## Basic Type Definition

Types are defined with the `gen` keyword followed by the type name and its fields:

```dol
mod container.runtime @ 0.8.0

gen Container {
    has id: u64
    has name: string
    has image: string
    has created_at: Timestamp
    has labels: Map<string, string>
}
```

Each field has:
- **Name**: The field identifier (snake_case convention)
- **Type**: A built-in or custom type

### Built-in Types

DOL provides these primitive types:

| Type | Description | Example |
|------|-------------|---------|
| `string` | Text data | `"hello"` |
| `u64` | Unsigned 64-bit integer | `42` |
| `i64` | Signed 64-bit integer | `-17` |
| `f64` | 64-bit floating point | `3.14` |
| `bool` | Boolean value | `true` |
| `Timestamp` | Date and time | `Timestamp.now()` |

### Collection Types

DOL supports generic collection types:

| Type | Description | Example |
|------|-------------|---------|
| `Vec<T>` | Ordered collection | `Vec<string>` |
| `Map<K, V>` | Key-value mapping | `Map<string, string>` |
| `Set<T>` | Unique values | `Set<u64>` |
| `Option<T>` | Optional value | `Option<string>` |

## Defining Enums

Enums model discrete states or variants. They can be simple or carry associated data:

```dol
mod container.runtime @ 0.8.0

gen ContainerStatus {
    kind: enum {
        Created,
        Running,
        Paused,
        Stopped,
        Failed { reason: string }
    }
}
```

This defines:
- **Simple variants**: `Created`, `Running`, `Paused`, `Stopped`
- **Data variant**: `Failed` carries a `reason` string

<Tip type="success">
Use enums to model finite states. The `Failed` variant with associated data is a pattern for capturing error context.
</Tip>

## Complete Container Example

Here is a complete module defining container-related types:

```dol
mod container.runtime @ 0.8.0

gen ContainerStatus {
    kind: enum {
        Created,
        Running,
        Paused,
        Stopped,
        Failed { reason: string }
    }
}

gen Container {
    has id: u64
    has name: string
    has image: string
    has status: ContainerStatus
    has created_at: Timestamp
    has labels: Map<string, string>
}

gen ContainerConfig {
    has image: string
    has command: Vec<string>
    has env: Map<string, string>
    has ports: Vec<PortMapping>
    has volumes: Vec<VolumeMount>
}

gen PortMapping {
    has container_port: u64
    has host_port: u64
    has protocol: string
}

gen VolumeMount {
    has source: string
    has target: string
    has read_only: bool
}
```

Notice how:
- Types reference other types (`Container` has `ContainerStatus`)
- Collections use generics (`Vec<PortMapping>`)
- Each type is self-contained and reusable

## Immutable and Mutable Values

DOL supports `val` and `var` for bindings:

```dol
mod config @ 0.8.0

// Immutable: cannot be changed after initialization
val MAX_CONTAINERS: u64 = 100
val DEFAULT_IMAGE: string = "alpine:latest"

// Mutable: can be reassigned
var active_count: u64 = 0
```

<Tip type="warning">
Prefer `val` over `var` for most cases. Immutability makes specifications easier to reason about and validate.
</Tip>

## Type Composition

Types can be composed to model complex domains:

```dol
mod ecommerce @ 0.8.0

gen Address {
    has street: string
    has city: string
    has postal_code: string
    has country: string
}

gen Customer {
    has id: u64
    has name: string
    has email: string
    has shipping_address: Address
    has billing_address: Option<Address>
}

gen OrderItem {
    has product_id: u64
    has quantity: u64
    has unit_price: f64
}

gen Order {
    has id: u64
    has customer: Customer
    has items: Vec<OrderItem>
    has total: f64
    has status: OrderStatus
}

gen OrderStatus {
    kind: enum {
        Pending,
        Confirmed,
        Shipped { tracking_number: string },
        Delivered { delivered_at: Timestamp },
        Cancelled { reason: string }
    }
}
```

## Practice Exercise

Define a `Library` module with types for:
1. `Book` - with title, author, ISBN, and publication year
2. `Member` - with ID, name, email, and membership date
3. `Loan` - connecting a book to a member with due date

<Collapsible title="Solution">
```dol
mod library @ 0.8.0

gen Book {
    has isbn: string
    has title: string
    has author: string
    has publication_year: u64
    has available: bool
}

gen Member {
    has id: u64
    has name: string
    has email: string
    has membership_date: Timestamp
    has active: bool
}

gen Loan {
    has id: u64
    has book_isbn: string
    has member_id: u64
    has borrowed_at: Timestamp
    has due_date: Timestamp
    has returned_at: Option<Timestamp>
}
```
</Collapsible>

## Summary

In this lesson, you learned:

- **Module declaration** with `mod name @ version`
- **Type definition** with `gen Name { fields }`
- **Enums** for modeling discrete states with optional data
- **Value bindings** with `val` (immutable) and `var` (mutable)
- **Type composition** to build complex domain models

## Next Steps

<NextTutorial
  title="Defining Traits"
  href="/tutorials/dol-syntax/002-traits"
  description="Learn to create reusable behavior contracts with trait definitions"
/>
